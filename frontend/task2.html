<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Task 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="js/jquery-3.6.0.js"></script>
    <script>

        function task2c(){
            const url = "http://localhost:3000/planets/random";
            $.get(url, function(data, status){
                const table = data.planet + " is " + data.diameter + " times bigger than Earth and has " + data.moons + " confirmed moons.";
                $("#planets").html(table);
            });
        }

        function task2e() {
        const url = 'http://localhost:3000/courses';
        $('#list').empty();
        $.get(url, function(data, status){

          var $ul = $('#list')
          $.each(data, function(idx, item){
            $ul.append('<li>' + item.course + '</li>')
          })
        });
      }

      function task2g() {  
            name_txt = document.getElementById("text").value;
            document.getElementById('text').value = ''
            $.ajax({
                type: "POST",
                url: 'http://localhost:3000/courses',
                data: JSON.stringify([name_txt]),
                contentType: "application/json; charset=utf-8"
                }); 
        }    

    </script>
  </head>
  <body onload="task2c(), task2e()">
      <h1>Task 2c</h1>
      <div id="planets"></div>
      <h1>Task 2e</h1>
      <ul id="list"></ul>
      <button class="button" onclick="task2e()">Refresh</button>
      <h1>Task 2f</h1>
    <input name="text" id="text" type="text" style="width:250px;"/>
    <button class="button" onclick="task2g()">Add</button>
  </body>
</html>